<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<link rel="stylesheet" href="./css/register.css">

<body>
    <div class="header">
        <div class="header-cont layout">
            <div class="logo">
                <a href="./shouye.html">
                    <i></i>
                </a>
            </div>
            <div class="tel">
                <ul>
                    <li>
                        销售热线:
                        <span>400-810-9528</span>
                    </li>
                    <li>
                        销售热线:
                        <span>400-810-9528</span>
                    </li>
                    <li>
                        <a href="##">服务中心</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="nav">
        <div class="nav-login layout">
            <div class="nav-left">
                <a href="##">
                    <img src="https://resources.edianzu.com/mall_new/20200103_1/images/company-banner.png" alt="">
                </a>
            </div>
            <div class="nav-right">
                <div class="nav-right-top">
                    <span>易点租会员注册</span>
                    <i>已有账号？去<a href="">登录</a></i>
                </div>
                <div>
                    <ul class="nav-list">
                        <li>
                            <span class="form-tit">绑定手机号</span>
                            <input id="phone" type="text" placeholder="请输入手机号码完成绑定" error="手机号码格式不正确"
                                emptyerror="请输入手机号码" class="">
                        </li>
                        <li class="form-error">
                            <span id="phoneError" class="show hide">
                                <i class="icon-prefect-error"></i>
                                手机号码格式不正确
                            </span>
                        </li>
                        <li>
                            <span class="form-tit form-mtit">设置密码</span>
                            <input id="pass" type="password" placeholder="8-32位数字与字母组合" valid="password"
                                errortarget="passError" error="密码格式不正确（要求8-32位数字与字母组合）" emptyerror="请输入密码" class="">
                        </li>
                        <li class="form-error">
                            <span id="passError" class="show hide">
                                <i class="icon-prefect-error"></i>
                                密码格式不正确（要求8-32位数字与字母组合）
                            </span>
                        </li>
                        <li>
                            <span class="form-tit form-mtit">设置密码</span>
                            <input id="pass2" type="password" placeholder="重新输入密码" valid="password"
                                errortarget="passError" error="密码格式不正确（要求8-32位数字与字母组合）" emptyerror="请输入密码" class="">
                        </li>
                        <li class="form-error">
                            <span id="passError" class="show hide">
                                <i class="icon-prefect-error"></i>
                                密码不匹配
                            </span>
                        </li>
                        <li class="register-green">
                            注册即代表同意
                            <a target="_blank" href="/help/topic/1000">《易点租账户注册协议》
                            </a>
                        </li>
                        <li class="nav-list-t" style=" position:absolute;width:312px;height:38px;opacity: 1;">
                            <a class="button prefect-button" id="submitBtn">
                                开始实现企业轻资产运营
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>









    <!-- <p>注册页面，调到<a href="./login.html">登录页面</a></p>
    账号 <input type="text" name="" id="user"></br>
    密码 <input type="text" name="" id="pass">
    <input type="button" value="确定" id="btn"> -->
</body>
<script>

    class register {
        constructor() {
            this.user = document.getElementById("user");
            this.pass = document.getElementById("pass");
            this.btn = document.getElementById("btn");
            this.url = "http://127.0.0.1:80/api";
            this.addEvent();
        }

        addEvent() {
            var that = this;
            btn.onclick = function () {
                ajaxGet(that.url, function (res) {
                    that.res = JSON.parse(res)
                    alert(that.res.msg)
                }, {
                    user: user.value,
                    pass: pass.value,
                    type: "register"
                })
            }
        }



    }




    // new register();




    function ajaxGet(url, cb, data) {
        data = data || {}
        var str = "";
        for (var i in data) {
            str += `${[i]}=${data[i]}&`
        }
        var d = new Date();
        url = url + "?" + str + "__lz=" + d.getTime();
        var ajax = new XMLHttpRequest();
        ajax.open("get", url, true);
        ajax.onreadystatechange = function () {
            if (ajax.readyState == 4 && ajax.status == 200) {
                cb(ajax.responseText);
            }
        }
        ajax.send();
    }
</script>

</html>